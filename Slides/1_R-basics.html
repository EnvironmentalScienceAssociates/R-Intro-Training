<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Introduction to R for Excel Users</title>
    <meta charset="utf-8" />
    <meta name="author" content="Travis Hinkelman" />
    <meta name="author" content="Taylor Spaulding" />
    <meta name="date" content="2020-11-20" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Introduction to R for Excel Users
### Travis Hinkelman
### Taylor Spaulding
### 2020-11-20

---






## Motivation

.pull-left[
&lt;img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7f/Microsoft_Office_Excel_%282018%E2%80%93present%29.svg/500px-Microsoft_Office_Excel_%282018%E2%80%93present%29.svg.png" style="height:300px"&gt; 
]

--

.pull-right[
&lt;img src="https://www.r-project.org/logo/Rlogo.png"  style="height:300px"&gt;  
]

---
## Motivation

.pull-left[
&lt;img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7f/Microsoft_Office_Excel_%282018%E2%80%93present%29.svg/500px-Microsoft_Office_Excel_%282018%E2%80%93present%29.svg.png" style="height:300px"&gt; 

]
.pull-right[
&lt;img src="https://tidyverse.tidyverse.org/articles/tidyverse-logo.png"  style="height:300px; padding-left:80px"&gt;  
]

---
## Rterm

&lt;img src="Rterm.png"&gt;

---
## RGui

&lt;img src="RGui.png"&gt;

---
## RStudio

&lt;img src="RStudio.png"&gt;

---
## R Packages

&lt;img src="https://www.researchgate.net/publication/333159083/figure/fig1/AS:759374838517760@1558060478678/Number-of-R-packages-contributed-to-the-Comprehensive-R-Archive-Network-CRAN-as-a.png"&gt;

.footnote[[Epskamp 2019](https://doi.org/10.1177/2515245919847421)]

---
## Install Packages (CRAN)

&lt;img src="InstallPackages.png"&gt;

---

## Install Packages (GitHub)

&lt;img src="InstallPackagesRemotes.png"&gt;

---

## Install Packages (Bioconductor)

&lt;img src="InstallPackagesBioconductor.png"&gt;

---

## Install Packages (Bioconductor)

&lt;img src="InstallPackagesBioconductor-rhdf5.png"&gt;

---

## Update Packages

&lt;img src="UpdatePackages.png"&gt;

---

## R Documentation

Quality of documentation is uneven.

Following two lines are equivalent ways to open documentation.


```r
?mean

help("mean")
```

---

## Package Websites

&lt;img src="PackageWebsite.png"&gt;

---

## Data Structures

One advantage of Excel is that the data are front and center. Feels tangible.

--

Important to feel comfortable with R's functions for showing the shape and structure of your data, e.g., `length`, `dim`, `nrow`, `head`, `View`, `glimpse`, `summary`.

--

A good mental model of the shape and structure of your data helps you understand the code that you need to write to analyze that data.

--

R has four main data structures: vector, matrix/array, list, and data frame.

--

We will focus on vectors and data frames.

---

## Vectors

Combine elements into a vector with `c` (for **c**ombine or **c**oncatenate).


```r
c(1, 2, 3)
```

```
## [1] 1 2 3
```
--

```r
c("a", "b", "c")
```

```
## [1] "a" "b" "c"
```
--

```r
c(TRUE, FALSE, TRUE)
```

```
## [1]  TRUE FALSE  TRUE
```
--

```r
c("let's", "make", "a", "vector")
```

```
## [1] "let's"  "make"   "a"      "vector"
```

---

## Vectors

Create numeric sequences with `:` or `seq`.


```r
1:5
```

```
## [1] 1 2 3 4 5
```
--

```r
seq(from = 1, to = 5, by = 1)
```

```
## [1] 1 2 3 4 5
```
--

```r
seq(3, 1, -0.5)
```

```
## [1] 3.0 2.5 2.0 1.5 1.0
```
--

```r
2:-3
```

```
## [1]  2  1  0 -1 -2 -3
```

---

## Vectors

Many operations in R are "vectorized."


```r
seq(2, 10, 2) / 2
```

```
## [1] 1 2 3 4 5
```
--

```r
sqrt(c(1, 4, 9, 16))
```

```
## [1] 1 2 3 4
```
--

```r
c(1, 2, 3) * c(10, 11, 12)
```

```
## [1] 10 22 36
```
--

```r
paste0(c("flood", "dragon"), c("plain", "fly"))
```

```
## [1] "floodplain" "dragonfly"
```


---

## Vectors

All elements of a vector must be the same type. 

Type coercion is implicit and a common source of confusion.

--

```r
c(1, 2, "a", "b")
```

```
## [1] "1" "2" "a" "b"
```
--

```r
c(1, 2, TRUE, FALSE)
```

```
## [1] 1 2 1 0
```
--

```r
c("a", "b", TRUE, FALSE)
```

```
## [1] "a"     "b"     "TRUE"  "FALSE"
```


---

## Data Frames

Data frames are tabular data structures where each column is a vector.


```r
data.frame(Integer = 1L:3L,
           Double = c(1, 2.5, 3),
           Logical = c(TRUE, FALSE, TRUE),
           Character = c("strings", "better", "name"),
           Factor = as.factor(c("factors", "are", "special")))
```

```
##   Integer Double Logical Character  Factor
## 1       1    1.0    TRUE   strings factors
## 2       2    2.5   FALSE    better     are
## 3       3    3.0    TRUE      name special
```

---

## Data Frames

Examine data frame structure with `glimpse`.


```r
d &lt;- data.frame(Integer = 1L:3L,
                Double = c(1, 2.5, 3),
                Logical = c(TRUE, FALSE, TRUE),
                Character = c("strings", "better", "name"),
                Factor = as.factor(c("factors", "are", "special")))
glimpse(d)
```

```
## Rows: 3
## Columns: 5
## $ Integer   &lt;int&gt; 1, 2, 3
## $ Double    &lt;dbl&gt; 1.0, 2.5, 3.0
## $ Logical   &lt;lgl&gt; TRUE, FALSE, TRUE
## $ Character &lt;chr&gt; "strings", "better", "name"
## $ Factor    &lt;fct&gt; factors, are, special
```

---

## Data Frames

Elements of shorter length are recycled. Common source of confusion.


```r
data.frame(Length4 = 1:4,
           Length2 = 1:2,
           Length1 = 1)
```

```
##   Length4 Length2 Length1
## 1       1       1       1
## 2       2       2       1
## 3       3       1       1
## 4       4       2       1
```

--

Recycling fails when longer vector is not a multiple of shorter vector.


```r
data.frame(Length4 = 1:4,
           Length3 = 1:3)
```

```
## Error in data.frame(Length4 = 1:4, Length3 = 1:3): arguments imply differing number of rows: 4, 3
```

---

## Data Frames

Use `head` to preview data frame in console.


```r
head(data.frame(x = 1:100, y = sample(1:100), z = rnorm(100)), n = 10)
```

```
##     x  y          z
## 1   1 99  0.3273640
## 2   2 42 -1.6043751
## 3   3  9 -0.8266046
## 4   4 19 -0.6105738
## 5   5 88  0.7618026
## 6   6  6  0.5690863
## 7   7 36  1.5569983
## 8   8 24  0.5586413
## 9   9 80 -0.8012713
## 10 10 63 -0.1443873
```

---

## Tibbles

Tibbles are data frames with some special behavior.


```r
data.frame(Number = 1:2,
           Times2 = Number*2)
```

```
## Error in data.frame(Number = 1:2, Times2 = Number * 2): object 'Number' not found
```
--

```r
tibble(Number = 1:2,
       Times2 = Number*2)
```

```
## # A tibble: 2 x 2
##   Number Times2
##    &lt;int&gt;  &lt;dbl&gt;
## 1      1      2
## 2      2      4
```

---
## Tibbles

Tibbles prevent recycling of vectors to avoid surprises.


```r
data.frame(Length4 = 1:4,
           Length2 = 1:2)
```

```
##   Length4 Length2
## 1       1       1
## 2       2       2
## 3       3       1
## 4       4       2
```


```r
tibble(Length4 = 1:4,
       Length2 = 1:2)
```

```
## Error: Tibble columns must have compatible sizes.
## * Size 4: Existing data.
## * Size 2: Column `Length2`.
## i Only values of size one are recycled.
```
---

## Tibbles

By default, data frames truncate printing at 333 rows. 

Always use head if you don't know how big a data frame is.


```r
data.frame(x = 1:500, y = sample(1:500), z = rnorm(500))
```

```
##       x   y            z
## 1     1 221 -0.964832956
## 2     2 323 -1.111045954
## 3     3  46 -0.336027055
## 4     4  11 -0.462024798
## 5     5 235 -1.713944951
## 6     6 461 -1.379001571
## 7     7 191  0.129047148
## 8     8 453  0.194622902
## 9     9 149  0.170041316
## 10   10 309 -1.512381072
## 11   11 444  0.646500512
## 12   12 145 -0.381472696
## 13   13 387  0.302919963
## 14   14 483 -0.417143684
## 15   15 455  0.510531922
## 16   16  73  0.397210594
## 17   17 403  1.398042814
## 18   18 380 -1.272476711
## 19   19  50 -1.142543866
## 20   20 124  1.458326287
## 21   21 345  0.433706766
## 22   22 127 -1.413066278
## 23   23 463 -0.971697590
## 24   24 136  0.332459133
## 25   25   7  1.822412501
## 26   26 467 -0.026989022
## 27   27 417  0.517657812
## 28   28 228 -0.162138456
## 29   29 189 -0.659565627
## 30   30 128  0.993173577
## 31   31 443  0.866268454
## 32   32 268 -0.621782328
## 33   33 413 -0.204720902
## 34   34 126  1.330802233
## 35   35 421  1.229651395
## 36   36 224 -0.412848960
## 37   37  53  0.385943773
## 38   38  24  1.279544403
## 39   39 477  0.854373280
## 40   40 427 -1.171239354
## 41   41 369 -1.094090078
## 42   42 257 -0.467256739
## 43   43 349 -0.068908629
## 44   44 148  0.505704948
## 45   45 283  0.167313700
## 46   46 139 -0.088709336
## 47   47  26  0.075615989
## 48   48 321  0.420316440
## 49   49 365 -0.188478612
## 50   50 492 -1.316308130
## 51   51 468 -1.302124295
## 52   52 419  1.351053960
## 53   53 201  0.199881806
## 54   54 203  1.738813687
## 55   55 183 -0.520810770
## 56   56  74  0.218897708
## 57   57 135  2.204311650
## 58   58 431  2.177775758
## 59   59 418  0.585503262
## 60   60 101  1.346636325
## 61   61 210 -0.917211778
## 62   62 179  0.117214431
## 63   63 108 -2.922041464
## 64   64 307 -0.704017912
## 65   65 473 -0.129642815
## 66   66 172  0.929770259
## 67   67 375 -0.348910058
## 68   68 407 -0.726816520
## 69   69 155  0.828810470
## 70   70 358 -0.125041771
## 71   71 100  0.105687089
## 72   72 330 -1.082195404
## 73   73 331  0.938608140
## 74   74 119 -0.659031749
## 75   75 200 -1.648315055
## 76   76  62  0.566471178
## 77   77  41  0.696949714
## 78   78 162  1.551479022
## 79   79 446  0.593822239
## 80   80 315  0.845624862
## 81   81 472  0.319529659
## 82   82 286  1.694210819
## 83   83  16  0.498634953
## 84   84 255  0.948629583
## 85   85 361  0.633690265
## 86   86 326 -1.000666464
## 87   87 289  0.750960636
## 88   88  84 -0.625544951
## 89   89 269 -0.786777942
## 90   90 385 -0.063487942
## 91   91  58  0.530028003
## 92   92 159  0.249402466
## 93   93 232 -1.128544193
## 94   94   6  0.566753229
## 95   95 185 -0.568588110
## 96   96 116 -0.356094764
## 97   97  30 -0.779971900
## 98   98 225 -1.992872276
## 99   99 311  0.618487138
## 100 100  80  1.287556550
## 101 101  57  0.009154268
## 102 102 351 -1.112978690
## 103 103 197  1.256087784
## 104 104 491  0.329346164
## 105 105 318 -1.296926897
## 106 106 411 -0.070947251
## 107 107  68 -0.152047516
## 108 108 114  1.339072059
## 109 109  39 -0.484424843
## 110 110 394 -0.143725107
## 111 111 476  0.529158585
## 112 112  65  0.889292626
## 113 113 113  0.629977580
## 114 114  36  0.093594003
## 115 115 231 -0.492002201
## 116 116 355 -1.218862274
## 117 117 206 -2.348726624
## 118 118 371 -0.755302067
## 119 119 205  0.898567175
## 120 120  34  0.958122908
## 121 121 243 -0.414975540
## 122 122  81  0.484048429
## 123 123 263 -1.278583471
## 124 124 167  0.441388809
## 125 125 469 -1.028942232
## 126 126  43  1.658779610
## 127 127  63  0.052349139
## 128 128 188 -0.143269049
## 129 129  86 -1.210121955
## 130 130 471 -0.978280128
## 131 131 161  0.122164220
## 132 132 300 -1.824781029
## 133 133 305  1.220828012
## 134 134 230  0.804320021
## 135 135 226 -2.229006288
## 136 136 253  0.565541959
## 137 137 402 -3.016926116
## 138 138 177  1.106596938
## 139 139 244  0.592271304
## 140 140 104 -0.144974980
## 141 141 141  0.205979770
## 142 142 478 -0.166610963
## 143 143 184 -0.412177518
## 144 144 180  1.330395907
## 145 145 406 -0.333164803
## 146 146 449 -0.693802156
## 147 147 131 -0.232730198
## 148 148 420  0.581752162
## 149 149 164  0.969933525
## 150 150 254 -1.845696542
## 151 151 266  0.736702903
## 152 152  19 -1.486834384
## 153 153  92  0.425740212
## 154 154 356  0.602134306
## 155 155 470 -1.405559607
## 156 156 465  0.406105089
## 157 157 474  0.547500351
## 158 158 317  1.367749047
## 159 159 499  0.699986010
## 160 160 437 -0.151231064
## 161 161 447 -0.950978687
## 162 162 445  0.300163065
## 163 163  91 -0.235716362
## 164 164 229 -0.469161926
## 165 165  35 -0.164216012
## 166 166  59 -0.932069881
## 167 167 209  0.196914243
## 168 168 157  0.432173027
## 169 169  15 -0.736859060
## 170 170 247  0.201101616
## 171 171 298 -0.694118660
## 172 172  17  0.666128725
## 173 173 372  0.882591415
## 174 174 316 -0.567515483
## 175 175 223 -1.242685937
## 176 176 395  1.102312109
## 177 177  32 -2.097152520
## 178 178 265  1.723085406
## 179 179 439  1.463535262
## 180 180 498 -2.106326929
## 181 181  98 -0.620876071
## 182 182 322  0.149797795
## 183 183 122 -0.472820842
## 184 184  12 -0.905375074
## 185 185 312 -1.350605681
## 186 186 109  1.161413030
## 187 187  21  1.181328453
## 188 188  44 -2.391802841
## 189 189 218 -0.965334833
## 190 190 310 -1.051550144
## 191 191  23  1.631545213
## 192 192 171 -1.387473496
## 193 193 213 -0.321700118
## 194 194 182 -0.003293965
## 195 195 409  0.216548761
## 196 196 301  0.792661919
## 197 197 178 -0.877105454
## 198 198 436  0.710294970
## 199 199 328  1.289348949
## 200 200 264 -1.522370236
## 201 201 341 -0.728127210
## 202 202 320  1.126350208
## 203 203 494 -2.456670477
## 204 204 488 -0.556802466
## 205 205 336 -1.590747341
## 206 206  78 -0.631076629
## 207 207 215 -0.505391904
## 208 208 173  0.656539693
## 209 209 430 -1.461673342
## 210 210 107 -2.335952662
## 211 211 324 -1.579068566
## 212 212 332 -0.199924337
## 213 213 496  0.840158334
## 214 214 334 -1.318205459
## 215 215 342 -1.107348600
## 216 216 291 -0.814811172
## 217 217 429 -1.225024428
## 218 218  54 -0.760575370
## 219 219 166 -0.377659176
## 220 220  61 -0.344106572
## 221 221 288 -1.872952128
## 222 222  49  0.632601763
## 223 223 274 -0.169138059
## 224 224  75 -1.669247933
## 225 225 190 -0.691119254
## 226 226 150 -0.758471020
## 227 227 392 -0.454664336
## 228 228 238 -0.383169563
## 229 229   5  0.344705075
## 230 230 374 -0.688106499
## 231 231 490 -1.698894115
## 232 232 347 -0.777560339
## 233 233 123  2.055241846
## 234 234  37 -0.290910299
## 235 235 133  0.197687878
## 236 236  14 -1.161505730
## 237 237 168 -0.052510581
## 238 238 458  0.664321415
## 239 239 346 -1.041077647
## 240 240 454  0.604895389
## 241 241 252 -0.799112302
## 242 242 193 -1.139716200
## 243 243 362 -0.306560183
## 244 244 199  0.941006561
## 245 245 151  1.491964920
## 246 246  99  0.926918785
## 247 247 486  1.323180938
## 248 248 434 -2.286683269
## 249 249 270  0.681746824
## 250 250 432  1.043828412
## 251 251   8 -0.092152279
## 252 252  69  0.403428135
## 253 253 129  0.935832351
## 254 254 202  1.206694543
## 255 255  71  1.792885365
## 256 256 121 -0.619211140
## 257 257 115 -1.365097101
## 258 258 452  0.491264644
## 259 259 175  0.056336058
## 260 260 497 -0.058329176
## 261 261 118 -0.670699596
## 262 262 304 -1.274177281
## 263 263 382  2.875209495
## 264 264 376  1.071272849
## 265 265 169 -0.389336609
## 266 266 195  0.454715033
## 267 267 370  0.657043945
## 268 268  18  0.329678504
## 269 269 103 -1.275671220
## 270 270 451 -0.044474246
## 271 271 482  1.835015950
## 272 272 338  1.357555891
## 273 273 181 -0.975898184
## 274 274 487 -1.106363290
## 275 275 292 -0.499420034
## 276 276  13  0.250583048
## 277 277 500  1.370404115
## 278 278  77 -0.335264955
## 279 279 284 -0.118699385
## 280 280 373  1.054608810
## 281 281 306 -0.786110716
## 282 282 425 -0.662396809
## 283 283 187 -0.882461451
## 284 284  55  0.599308603
## 285 285 156 -1.692307268
## 286 286 295  0.547652785
## 287 287 464  0.260146152
## 288 288   4  0.208452212
## 289 289  83  0.462853150
## 290 290 366 -1.100295540
## 291 291 459  1.591781482
## 292 292 272 -0.369254222
## 293 293 438 -1.226905118
## 294 294  90 -0.146701109
## 295 295 280 -0.239284332
## 296 296  38  0.299050519
## 297 297 290  0.856279785
## 298 298 363 -0.695234668
## 299 299  45 -0.902513740
## 300 300  64 -1.048897507
## 301 301 314  2.018656368
## 302 302 412  1.003177897
## 303 303 360  0.295919136
## 304 304  97  0.890174841
## 305 305 222  1.516534986
## 306 306  29 -0.534354569
## 307 307 357 -0.657726711
## 308 308 276 -0.182234396
## 309 309 390 -1.194638457
## 310 310 333 -1.387681585
## 311 311 219  0.546344292
## 312 312 354  0.004201850
## 313 313  20 -0.304508970
## 314 314 147  0.478590440
## 315 315 239 -0.583637068
## 316 316 233 -0.871447756
## 317 317 144  2.093414378
## 318 318 423 -0.109203029
## 319 319 154  0.305934141
## 320 320 275  0.261217496
## 321 321 480  0.355386664
## 322 322 337 -2.336891157
## 323 323 377 -1.144754716
## 324 324 308 -0.200034195
## 325 325 273  0.060697904
## 326 326 433  0.148141612
## 327 327 405  0.972391434
## 328 328 174 -0.949117440
## 329 329 158  0.261888015
## 330 330 414  0.823915090
## 331 331 348 -0.687704204
## 332 332 146  1.142369398
## 333 333 329 -0.549829055
## 334 334  27  0.229360456
## 335 335 396 -0.270461814
## 336 336 163 -1.001066063
## 337 337  85 -1.554753414
## 338 338 282 -0.975972314
## 339 339 250 -0.643260317
## 340 340 466  0.224526750
## 341 341  70 -0.720119582
## 342 342 479 -0.021724757
## 343 343 137 -1.549811758
## 344 344 424  0.358877337
## 345 345 248  0.351415229
## 346 346 246  0.424026689
## 347 347 277 -0.703435966
## 348 348 240  0.248787808
## 349 349 435  0.037628916
## 350 350  94 -0.824335228
## 351 351 271 -0.373830573
## 352 352 138  0.281750155
## 353 353 364  0.365657754
## 354 354 339  0.687268031
## 355 355 142 -0.372913033
## 356 356 399  0.255392192
## 357 357  95  0.170810029
## 358 358 287  0.452934372
## 359 359 475 -0.236527138
## 360 360  52 -0.463518691
## 361 361 194 -0.751283684
## 362 362 393  1.533309933
## 363 363 262 -0.086495302
## 364 364  66 -0.388550602
## 365 365  93  0.755089724
## 366 366 259 -0.243269893
## 367 367 256  0.168962750
## 368 368 234  0.241008877
## 369 369 216 -0.874436211
## 370 370 327 -0.521442653
## 371 371  51 -1.820113303
## 372 372 134 -0.521244502
## 373 373 211 -0.473682785
## 374 374 343  1.703610192
## 375 375 415 -0.801044591
## 376 376 220 -0.536807474
## 377 377  89  0.500188648
## 378 378 258  0.755654263
## 379 379 117 -0.675986311
## 380 380 381  0.475231737
## 381 381 125 -0.451222030
## 382 382 456 -0.962029012
## 383 383 293  1.552590961
## 384 384 495 -0.663160170
## 385 385 120  0.686906035
## 386 386 198  0.167337051
## 387 387 140 -0.870094972
## 388 388 186  0.810138174
## 389 389 102  1.005005811
## 390 390  96  2.571955870
## 391 391   3 -0.277186361
## 392 392 294  0.028348067
## 393 393 260 -0.778343971
## 394 394   1  0.332527368
## 395 395 422 -0.489160436
## 396 396 285  0.381879332
## 397 397 152  1.521564677
## 398 398  25 -1.384968862
## 399 399 489  0.153088535
## 400 400 457 -1.414282492
## 401 401 130  0.051723270
## 402 402  33 -0.422099352
## 403 403  79  1.783968002
## 404 404 440  1.502567969
## 405 405 106 -0.313999360
## 406 406 335 -0.174238156
## 407 407 401 -0.363018859
## 408 408 319  1.511447117
## 409 409 391 -0.800369129
## 410 410 404  0.266125506
## 411 411 267 -1.751987828
## 412 412 237 -1.531852671
## 413 413 208  1.615865071
## 414 414 344 -0.096447406
## 415 415 242  0.089699561
## 416 416 400 -0.531892797
## 417 417 367 -0.487094558
## 418 418 462  1.398500529
## 419 419 245  0.609990193
## 420 420  88 -0.964634372
## 421 421  48  1.885411989
## 422 422 214  0.518618699
## 423 423 196 -2.196278956
## 424 424 207  0.006295653
## 425 425 278 -1.083161639
## 426 426 303 -1.357806443
## 427 427 105  0.477722333
## 428 428  31  1.142084256
## 429 429  28 -1.314133916
## 430 430 302  0.596599573
## 431 431  87 -0.379191593
## 432 432 352 -1.374517459
## 433 433 110 -1.168282935
## 434 434 398  0.393067255
## 435 435 160  0.274833146
## 436 436 426 -0.055880801
## 437 437 176 -2.293535280
## 438 438 241 -0.759632382
## 439 439 450  0.928465846
## 440 440  40  0.946840058
## 441 441 299 -0.878306739
## 442 442 281  0.714334193
## 443 443  47 -0.075663317
## 444 444 132 -0.138362329
## 445 445 460 -0.288815056
## 446 446   9 -1.939208003
## 447 447 389 -0.046402635
## 448 448 297 -2.594794359
## 449 449 296  1.209175449
## 450 450 325  0.931224644
## 451 451 217 -0.150015969
## 452 452 313  0.477156347
## 453 453 416  0.370701830
## 454 454  42 -1.387147401
## 455 455  56  0.700121891
## 456 456 192 -1.383203403
## 457 457  10 -0.873424560
## 458 458 153  1.032879258
## 459 459 261 -1.468124260
## 460 460  22 -1.861709838
## 461 461 143  0.522226864
## 462 462  76 -2.279514792
## 463 463 112  0.172886309
## 464 464 111 -0.194028233
## 465 465 484 -0.349210577
## 466 466 448  0.170764417
## 467 467 383 -0.279183223
## 468 468 408  0.863961051
## 469 469  67 -0.835475463
## 470 470 386 -0.175447341
## 471 471   2  0.409776461
## 472 472 251 -1.105839568
## 473 473 410 -0.591506943
## 474 474 353 -0.801696128
## 475 475 428 -1.018666136
## 476 476 227 -1.689746393
## 477 477 170  0.113147150
## 478 478 359 -0.855169873
## 479 479 397  1.934407202
## 480 480 485 -1.245358907
## 481 481 249  1.171631186
## 482 482 236 -1.663900924
## 483 483 368 -1.480182739
## 484 484 384 -0.034401360
## 485 485 388  2.712706163
## 486 486 493 -0.275263594
## 487 487 279 -0.637446152
## 488 488 212  1.063228740
## 489 489 442 -0.750383400
## 490 490  72  0.158856281
## 491 491 378  0.362067102
## 492 492  82 -0.990508184
## 493 493 350  0.276829962
## 494 494 379 -0.044391504
## 495 495 340 -0.635876729
## 496 496 204  0.857927870
## 497 497 441  0.279213669
## 498 498 481  0.533220899
## 499 499 165 -0.128907772
## 500 500  60 -0.621459024
```

---

## Tibbles

Tibbles have enhanced (and opinionated) printing behavior.


```r
tibble(x = 1:500, y = sample(1:500), z = rnorm(500))
```

```
## # A tibble: 500 x 3
##        x     y       z
##    &lt;int&gt; &lt;int&gt;   &lt;dbl&gt;
##  1     1   496 -0.0643
##  2     2   201 -1.60  
##  3     3   218 -0.0469
##  4     4   106  1.39  
##  5     5   175  0.212 
##  6     6   318  0.0802
##  7     7   222  1.66  
##  8     8   414 -1.83  
##  9     9   233 -0.0987
## 10    10   379  0.986 
## # ... with 490 more rows
```

---

## Working Directory

A key part of reading and writing data is understanding where R is looking for and putting data, respectively.


```r
getwd()
```

```
## [1] "C:/Users/thinkelman/GitHub/R/Projects/R-Intro-Training/Slides"
```

--

`getwd` returns absolute paths, but using relative paths makes work more reproducible across different computers.

--

[Project-oriented workflow](https://www.tidyverse.org/blog/2017/12/workflow-vs-script/)

&gt;If the first line of your R script is
`setwd("C:\Users\jenny\path\that\only\I\have")`  
I will come into your office and SET YOUR COMPUTER ON FIRE 🔥.  


---

## Writing Data

Datasets can be included in packages. `esaRmisc` contains a dataset with water year type classifications.


```r
library(esaRmisc)
tail(water_year_type)
```

```
##     WaterYear Valley WYT WaterYearType
## 233      2014    SJR   C      Critical
## 234      2015    SJR   C      Critical
## 235      2016    SJR   D           Dry
## 236      2017    SJR   W           Wet
## 237      2018    SJR  BN  Below Normal
## 238      2019    SJR   W           Wet
```

We can write the `water_year_type` dataset as a `CSV` file with `write_csv` and as an `XSLX` file with `write_xlsx` (but need to install `writexl` package first).


```r
write_csv(water_year_type, "WaterYearType.csv")
writexl::write_xlsx(water_year_type, "WaterYearType.xlsx")
```

---

## Reading Data

Let's read those files back into R (but need to install `readxl` package first).


```r
wyt_csv &lt;- read_csv("WaterYearType.csv")
wyt_xlsx &lt;- readxl::read_xlsx("WaterYearType.xlsx")
```

--

R can connect to and read from lots of different data sources and file types, but we will focus on flat text files (generally, `CSV`, `TSV`, or `TXT`) and Excel files (`XLSX`).
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
