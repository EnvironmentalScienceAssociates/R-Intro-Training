<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Introduction to R for Excel Users</title>
    <meta charset="utf-8" />
    <meta name="author" content="Travis Hinkelman" />
    <meta name="author" content="Taylor Spaulding" />
    <meta name="date" content="2020-11-20" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Introduction to R for Excel Users
### Travis Hinkelman
### Taylor Spaulding
### 2020-11-20

---






## Motivation

.pull-left[
&lt;img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7f/Microsoft_Office_Excel_%282018%E2%80%93present%29.svg/500px-Microsoft_Office_Excel_%282018%E2%80%93present%29.svg.png" style="height:300px"&gt; 
]

--

.pull-right[
&lt;img src="https://www.r-project.org/logo/Rlogo.png"  style="height:300px"&gt;  
]

---
## Motivation

.pull-left[
&lt;img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7f/Microsoft_Office_Excel_%282018%E2%80%93present%29.svg/500px-Microsoft_Office_Excel_%282018%E2%80%93present%29.svg.png" style="height:300px"&gt; 

]
.pull-right[
&lt;img src="https://tidyverse.tidyverse.org/articles/tidyverse-logo.png"  style="height:300px; padding-left:80px"&gt;  
]

---
## Rterm

&lt;img src="Rterm.png"&gt;

---
## RGui

&lt;img src="RGui.png"&gt;

---
## RStudio

&lt;img src="RStudio.png"&gt;

---
## R Packages

&lt;img src="https://www.researchgate.net/publication/333159083/figure/fig1/AS:759374838517760@1558060478678/Number-of-R-packages-contributed-to-the-Comprehensive-R-Archive-Network-CRAN-as-a.png"&gt;

.footnote[[Epskamp 2019](https://doi.org/10.1177/2515245919847421)]

---
## Install Packages (CRAN)

&lt;img src="InstallPackages.png"&gt;

---

## Install Packages (GitHub)

&lt;img src="InstallPackagesRemotes.png"&gt;

---

## Install Packages (Bioconductor)

&lt;img src="InstallPackagesBioconductor.png"&gt;

---

## Install Packages (Bioconductor)

&lt;img src="InstallPackagesBioconductor-rhdf5.png"&gt;

---

## Update Packages

&lt;img src="UpdatePackages.png"&gt;

---

## R Documentation

Quality of documentation is uneven.

Following two lines are equivalent ways to open documentation.


```r
?mean

help("mean")
```

---

## Package Websites

&lt;img src="PackageWebsite.png"&gt;

---

## Data Structures

One advantage of Excel is that the data are front and center. Feels tangible.

--

Important to feel comfortable with R's functions for showing the shape and structure of your data, e.g., `length`, `dim`, `nrow`, `head`, `View`, `glimpse`, `summary`.

--

A good mental model of the shape and structure of your data helps you understand the code that you need to write to analyze that data.

--

R has four main data structures: vector, matrix/array, list, and data frame.

--

We will focus on vectors and data frames.

---

## Vectors

Combine elements into a vector with `c` (for **c**ombine or **c**oncatenate).


```r
c(1, 2, 3)
```

```
## [1] 1 2 3
```
--

```r
c("a", "b", "c")
```

```
## [1] "a" "b" "c"
```
--

```r
c(TRUE, FALSE, TRUE)
```

```
## [1]  TRUE FALSE  TRUE
```
--

```r
c("let's", "make", "a", "vector")
```

```
## [1] "let's"  "make"   "a"      "vector"
```

---

## Vectors

Create numeric sequences with `:` or `seq`.


```r
1:5
```

```
## [1] 1 2 3 4 5
```
--

```r
seq(from = 1, to = 5, by = 1)
```

```
## [1] 1 2 3 4 5
```
--

```r
seq(3, 1, -0.5)
```

```
## [1] 3.0 2.5 2.0 1.5 1.0
```
--

```r
2:-3
```

```
## [1]  2  1  0 -1 -2 -3
```

---

## Vectors

Many operations in R are "vectorized."


```r
seq(2, 10, 2) / 2
```

```
## [1] 1 2 3 4 5
```
--

```r
sqrt(c(1, 4, 9, 16))
```

```
## [1] 1 2 3 4
```
--

```r
c(1, 2, 3) * c(10, 11, 12)
```

```
## [1] 10 22 36
```
--

```r
paste0(c("flood", "dragon"), c("plain", "fly"))
```

```
## [1] "floodplain" "dragonfly"
```


---

## Vectors

All elements of a vector must be the same type. 

Type coercion is implicit and a common source of confusion.

--

```r
c(1, 2, "a", "b")
```

```
## [1] "1" "2" "a" "b"
```
--

```r
c(1, 2, TRUE, FALSE)
```

```
## [1] 1 2 1 0
```
--

```r
c("a", "b", TRUE, FALSE)
```

```
## [1] "a"     "b"     "TRUE"  "FALSE"
```


---

## Data Frames

Data frames are tabular data structures where each column is a vector.


```r
data.frame(Integer = 1L:3L,
           Double = c(1, 2.5, 3),
           Logical = c(TRUE, FALSE, TRUE),
           Character = c("strings", "better", "name"),
           Factor = as.factor(c("factors", "are", "special")))
```

```
##   Integer Double Logical Character  Factor
## 1       1    1.0    TRUE   strings factors
## 2       2    2.5   FALSE    better     are
## 3       3    3.0    TRUE      name special
```

---

## Data Frames

Examine data frame structure with `glimpse`.


```r
d &lt;- data.frame(Integer = 1L:3L,
                Double = c(1, 2.5, 3),
                Logical = c(TRUE, FALSE, TRUE),
                Character = c("strings", "better", "name"),
                Factor = as.factor(c("factors", "are", "special")))
glimpse(d)
```

```
## Rows: 3
## Columns: 5
## $ Integer   &lt;int&gt; 1, 2, 3
## $ Double    &lt;dbl&gt; 1.0, 2.5, 3.0
## $ Logical   &lt;lgl&gt; TRUE, FALSE, TRUE
## $ Character &lt;chr&gt; "strings", "better", "name"
## $ Factor    &lt;fct&gt; factors, are, special
```

---

## Data Frames

Elements of shorter length are recycled. Common source of confusion.


```r
data.frame(Length4 = 1:4,
           Length2 = 1:2,
           Length1 = 1)
```

```
##   Length4 Length2 Length1
## 1       1       1       1
## 2       2       2       1
## 3       3       1       1
## 4       4       2       1
```

--

Recycling fails when longer vector is not a multiple of shorter vector.


```r
data.frame(Length4 = 1:4,
           Length3 = 1:3)
```

```
## Error in data.frame(Length4 = 1:4, Length3 = 1:3): arguments imply differing number of rows: 4, 3
```

---

## Data Frames

Use `head` to preview data frame in console.


```r
head(data.frame(x = 1:100, y = sample(1:100), z = rnorm(100)), n = 10)
```

```
##     x  y            z
## 1   1 82  0.029060177
## 2   2 98 -1.562699992
## 3   3 55  0.058956219
## 4   4 94 -0.609505400
## 5   5 35 -1.297236638
## 6   6 92  0.411798309
## 7   7 24  0.007976481
## 8   8 21 -0.593764951
## 9   9 60 -0.672003039
## 10 10 23  0.672477556
```

---

## Tibbles

Tibbles are data frames with some special behavior.


```r
data.frame(Number = 1:2,
           Times2 = Number*2)
```

```
## Error in data.frame(Number = 1:2, Times2 = Number * 2): object 'Number' not found
```
--

```r
tibble::tibble(Number = 1:2,
               Times2 = Number*2)
```

```
## # A tibble: 2 x 2
##   Number Times2
##    &lt;int&gt;  &lt;dbl&gt;
## 1      1      2
## 2      2      4
```

---
## Tibbles

Tibbles prevent recycling of vectors to avoid surprises.


```r
data.frame(Length4 = 1:4,
           Length2 = 1:2)
```

```
##   Length4 Length2
## 1       1       1
## 2       2       2
## 3       3       1
## 4       4       2
```


```r
tibble(Length4 = 1:4,
       Length2 = 1:2)
```

```
## Error: Tibble columns must have compatible sizes.
## * Size 4: Existing data.
## * Size 2: Column `Length2`.
## i Only values of size one are recycled.
```
---

## Tibbles

By default, data frames truncate printing at 333 rows. 

Always use head if you don't know how big a data frame is.


```r
data.frame(x = 1:500, y = sample(1:500), z = rnorm(500))
```

```
##       x   y            z
## 1     1 500  0.255744767
## 2     2  49 -2.029862789
## 3     3 143 -0.065235334
## 4     4 231 -0.381466803
## 5     5 327  0.030938420
## 6     6 113 -0.066293648
## 7     7 371  0.301853165
## 8     8 175 -0.669024488
## 9     9 384  0.009972191
## 10   10 483 -0.646650650
## 11   11 156  0.361766731
## 12   12 315  0.307373801
## 13   13 243  0.959178822
## 14   14 197  0.374381564
## 15   15 372  1.241455831
## 16   16 451 -0.173501645
## 17   17  58 -1.350931498
## 18   18 165  1.910661290
## 19   19 286  0.182429767
## 20   20 385  1.895133948
## 21   21 182 -1.310578786
## 22   22 397 -1.542300876
## 23   23 245 -0.735981455
## 24   24 436 -0.940676582
## 25   25 142 -0.495024868
## 26   26  72  0.785090454
## 27   27 134 -0.320499108
## 28   28 351 -1.450375437
## 29   29 423 -1.535065485
## 30   30 285  0.402165972
## 31   31 361 -0.920714077
## 32   32 125  0.808733099
## 33   33 465 -0.694212380
## 34   34  62  0.491355798
## 35   35 402  0.552276718
## 36   36 474 -1.849494803
## 37   37 257 -1.200773032
## 38   38 457 -0.315455930
## 39   39 140 -1.801712443
## 40   40 441 -0.863012117
## 41   41 475 -0.934749952
## 42   42 421 -1.057339437
## 43   43 290  0.545545574
## 44   44 278 -0.238064706
## 45   45 430 -0.799446093
## 46   46 204  0.358872233
## 47   47  56  1.340224503
## 48   48 400 -0.647005217
## 49   49 128  0.727165491
## 50   50 154 -1.468196966
## 51   51 378  1.013013454
## 52   52 162 -0.667651705
## 53   53   5  0.242745562
## 54   54 168  1.015007844
## 55   55  13  0.555100046
## 56   56  47 -0.631188149
## 57   57 459  0.632899700
## 58   58  37 -0.071581047
## 59   59 303 -0.875277141
## 60   60 403 -1.557840716
## 61   61  98  0.769365186
## 62   62  52 -0.825231517
## 63   63 178 -0.267219121
## 64   64 375  0.417795269
## 65   65 481  0.229280329
## 66   66  74  0.092388293
## 67   67 110  0.749086287
## 68   68 167  1.356826417
## 69   69 320  2.603636007
## 70   70 301  0.219224220
## 71   71 348  0.156673807
## 72   72  20  0.672685515
## 73   73 388 -0.265643127
## 74   74 455 -1.214589887
## 75   75 321  0.290173279
## 76   76  96  1.838712996
## 77   77 291  0.887025717
## 78   78  45  1.846303450
## 79   79 499  0.111506885
## 80   80 152  0.211532466
## 81   81 118 -0.663731197
## 82   82 477  2.092371672
## 83   83 224  0.586561199
## 84   84 367  0.248621195
## 85   85 456 -0.768001808
## 86   86 161 -0.709907247
## 87   87 453  0.040843281
## 88   88 248 -1.100046187
## 89   89  39 -0.787952183
## 90   90 458  1.460201493
## 91   91  64  1.888605217
## 92   92 469 -1.181490323
## 93   93 219 -0.292597976
## 94   94 148 -0.866629273
## 95   95 343 -0.134091086
## 96   96 131 -0.212584186
## 97   97 438 -0.889398563
## 98   98 256  0.303522925
## 99   99 112  1.208549235
## 100 100 170  0.652396982
## 101 101 268  0.918311284
## 102 102 429  0.746446668
## 103 103 120  2.168357704
## 104 104 239  0.537172962
## 105 105 177 -0.120576260
## 106 106 220 -1.539178831
## 107 107 310  0.652899726
## 108 108  69  0.858395731
## 109 109 222  0.843894827
## 110 110 111 -0.718958999
## 111 111 391  0.253849340
## 112 112  66  0.765869618
## 113 113 130  0.950939850
## 114 114 404 -2.183727981
## 115 115 414  2.346622433
## 116 116 235 -0.975171114
## 117 117 470  0.492337586
## 118 118 331  0.984159072
## 119 119 190 -0.642165831
## 120 120 296  0.856275780
## 121 121 411  1.398129854
## 122 122 141  0.557251454
## 123 123 376  0.022517739
## 124 124 272 -0.436082900
## 125 125  41 -0.472294001
## 126 126 308 -0.677044681
## 127 127 413  1.166908302
## 128 128  53 -1.022291045
## 129 129 119  2.245872397
## 130 130 491  0.725952245
## 131 131 399 -0.003168460
## 132 132 334 -1.005850368
## 133 133 205 -0.949034436
## 134 134 358 -0.552920529
## 135 135 210 -0.054270403
## 136 136 449  1.001068057
## 137 137 428  0.850946282
## 138 138 492 -1.439149777
## 139 139 377 -0.050505852
## 140 140 126  2.712322768
## 141 141   4 -0.917499452
## 142 142 433  0.255359322
## 143 143 192  0.434599503
## 144 144  44 -0.551285435
## 145 145 260 -1.158182946
## 146 146 234  1.274148920
## 147 147 269  0.272935115
## 148 148 352  0.127006370
## 149 149 323  2.675897076
## 150 150   2  0.142039493
## 151 151 146  0.365550647
## 152 152 186 -1.251572618
## 153 153 304 -0.004604767
## 154 154 454  1.126217792
## 155 155 405  0.015538344
## 156 156 493 -0.502021918
## 157 157 486 -1.070227267
## 158 158 207 -0.717200011
## 159 159 250 -0.053417925
## 160 160 417  0.391365405
## 161 161 117  0.514855981
## 162 162 185  0.499834914
## 163 163 359  0.832508606
## 164 164 390 -1.101201499
## 165 165  48  0.349917686
## 166 166 369  0.377500959
## 167 167 439 -1.130074405
## 168 168 342  0.570187010
## 169 169 163  0.982640406
## 170 170  14  1.283522414
## 171 171 249 -0.326429669
## 172 172 461  1.265859462
## 173 173 435  1.188934285
## 174 174 121 -1.692793797
## 175 175 123 -0.215808641
## 176 176  29 -1.165099633
## 177 177 393  0.221744634
## 178 178  95 -0.237099881
## 179 179 466  0.093896232
## 180 180 366  0.608116692
## 181 181 181 -0.487891650
## 182 182 159 -0.435461891
## 183 183 150 -0.585454301
## 184 184 383 -0.666034143
## 185 185 293  0.981319567
## 186 186  35 -0.565788121
## 187 187 226  0.778731144
## 188 188 179  2.566459074
## 189 189  84 -1.583264683
## 190 190 392  0.177870353
## 191 191 271  0.566878630
## 192 192 287 -1.652437242
## 193 193 398  0.103986515
## 194 194 289  0.156755790
## 195 195 124 -1.264708931
## 196 196 203 -0.248539870
## 197 197 318 -0.655663932
## 198 198 313 -2.499829019
## 199 199 302 -0.926330429
## 200 200 472  0.514599320
## 201 201 232  1.939434303
## 202 202 199 -0.843359927
## 203 203 425 -1.161399072
## 204 204 166 -0.496205793
## 205 205 494  0.253115172
## 206 206  54 -0.669556596
## 207 207 115 -0.379375371
## 208 208 133 -0.259612185
## 209 209 467  1.541754181
## 210 210  79  1.875235188
## 211 211 306 -0.406235738
## 212 212 478  1.708855418
## 213 213 212 -0.738372934
## 214 214 395  1.032091760
## 215 215  81 -1.360578279
## 216 216 434  0.830160190
## 217 217 422 -0.561739847
## 218 218  34  2.186744611
## 219 219 412 -0.417214192
## 220 220 298  1.007243162
## 221 221  97  0.354430432
## 222 222 262 -0.255430200
## 223 223 418  1.973069077
## 224 224 416  0.175241784
## 225 225  33  1.554465971
## 226 226  10 -0.793372281
## 227 227 440 -0.654468337
## 228 228 476  0.885549102
## 229 229  90  0.023869552
## 230 230 415  0.209404191
## 231 231  93 -0.270496177
## 232 232  32 -0.625438389
## 233 233  91  0.047823608
## 234 234 314 -0.939110246
## 235 235 147 -0.039212870
## 236 236 276 -1.888099701
## 237 237 473 -0.206098952
## 238 238 107 -0.196756254
## 239 239  17 -2.051194490
## 240 240 305  1.769793183
## 241 241  59 -2.118593137
## 242 242   1 -0.773074037
## 243 243 283  0.504351697
## 244 244 346 -0.133364165
## 245 245 496 -0.293380755
## 246 246 246 -1.498460927
## 247 247 136 -0.707321749
## 248 248  73  0.199890869
## 249 249 144  0.705449087
## 250 250 164  0.980339042
## 251 251 307  0.230140892
## 252 252  25 -1.424749903
## 253 253 215  0.938092212
## 254 254 432 -0.001008668
## 255 255 157 -0.972412667
## 256 256 151 -0.291115111
## 257 257 264  1.302874087
## 258 258 193 -0.383033340
## 259 259 316 -0.781102012
## 260 260 325 -0.899954312
## 261 261 138  1.191192708
## 262 262 424 -0.046205827
## 263 263 389 -1.048202559
## 264 264 333 -0.063313368
## 265 265 317 -0.378924414
## 266 266 309 -0.479481341
## 267 267 490 -1.103368995
## 268 268  19 -0.221777120
## 269 269 229 -0.729540934
## 270 270 319  1.376959368
## 271 271  15 -0.050691386
## 272 272 387 -0.550676013
## 273 273 214 -1.253068865
## 274 274  28  2.581228185
## 275 275 208 -0.238912644
## 276 276 341 -0.534101477
## 277 277 292  0.469156688
## 278 278 426  0.133994785
## 279 279 446  0.260052837
## 280 280 357 -1.384732929
## 281 281 277 -1.407406502
## 282 282 259 -0.175773920
## 283 283  99 -0.819970849
## 284 284 266  0.456181369
## 285 285  76  1.381783015
## 286 286 300 -0.838191419
## 287 287   6  1.119383996
## 288 288 227 -1.877925201
## 289 289 386  0.757606174
## 290 290 365 -0.165696102
## 291 291 431 -0.452522801
## 292 292 452  2.110627841
## 293 293 463 -1.160758448
## 294 294 354  0.027328285
## 295 295  75  0.494742367
## 296 296 396 -0.483577762
## 297 297 221  0.663206752
## 298 298 368  0.606211007
## 299 299  71  1.427471965
## 300 300 498 -0.345809973
## 301 301 267  0.266032617
## 302 302 337  1.523651968
## 303 303 132  1.419876599
## 304 304 344 -0.583857735
## 305 305  92  0.806471221
## 306 306 488  0.729337031
## 307 307 294 -0.959387140
## 308 308 282  0.083903354
## 309 309 382  1.073930113
## 310 310  88  1.341252626
## 311 311 448  0.583018718
## 312 312 189  1.800109547
## 313 313 174  0.742620089
## 314 314 295 -0.144226006
## 315 315 288 -0.618867577
## 316 316  40  0.662295173
## 317 317 223 -1.186834235
## 318 318 155 -1.156847510
## 319 319  57 -0.837581749
## 320 320 114 -0.786478486
## 321 321 353 -0.263537855
## 322 322 495  0.321756384
## 323 323 427  0.730988094
## 324 324  43  1.011573088
## 325 325 265  0.809787931
## 326 326 330  0.094148887
## 327 327 129 -0.243631046
## 328 328 254  1.187567409
## 329 329 350  1.817725451
## 330 330 394 -0.475798049
## 331 331  24 -1.865476459
## 332 332 322 -0.791018491
## 333 333 445 -0.360634875
## 334 334 408 -2.276925788
## 335 335 380  1.005290533
## 336 336 247  1.274746207
## 337 337 447  0.411302938
## 338 338 349  1.199471034
## 339 339 406  0.499615559
## 340 340 173  0.470541346
## 341 341 209  0.737612971
## 342 342 328 -1.236116748
## 343 343 409 -0.259498555
## 344 344 362  0.204130060
## 345 345 373  0.544275210
## 346 346  86 -0.633205430
## 347 347 201  1.667194720
## 348 348   9  0.226365244
## 349 349 236  0.140263894
## 350 350  70 -0.111465531
## 351 351 238 -1.177807271
## 352 352 188 -0.392519805
## 353 353   3 -1.172608241
## 354 354  60  1.271299098
## 355 355 407  0.216725553
## 356 356 194 -0.160653975
## 357 357  80  2.079199078
## 358 358 374  0.059329403
## 359 359  87  1.449490412
## 360 360  85  0.377100337
## 361 361 273 -0.958200883
## 362 362 419 -0.913193099
## 363 363  26  1.263001042
## 364 364 401 -0.216101142
## 365 365  61  0.231177238
## 366 366 339 -0.680491126
## 367 367 347 -0.395577233
## 368 368 109  0.981092971
## 369 369 218  0.384665957
## 370 370  82  0.637512034
## 371 371 253 -0.079453208
## 372 372 108 -0.680107570
## 373 373 443 -0.477790611
## 374 374 242 -0.796502243
## 375 375 410  0.138168477
## 376 376 255  0.585509276
## 377 377  27 -1.967688243
## 378 378 364  0.504794541
## 379 379 462  0.832706193
## 380 380 480 -1.093313701
## 381 381 169 -0.100036427
## 382 382 329  0.682501109
## 383 383 381 -0.228056850
## 384 384  50 -0.628275323
## 385 385 484 -1.694917119
## 386 386 299  0.607567238
## 387 387 252 -0.369883957
## 388 388  77 -0.188789379
## 389 389  18 -1.252100128
## 390 390 127 -0.204861281
## 391 391 460  0.622561595
## 392 392 482  2.387073325
## 393 393 326 -0.325980560
## 394 394  46 -0.636462976
## 395 395 244 -0.697938057
## 396 396 324  0.032999054
## 397 397 471 -0.367485420
## 398 398  12  0.521843306
## 399 399 100 -0.577449694
## 400 400 211  0.348176650
## 401 401 196  1.784234264
## 402 402  51  0.631192140
## 403 403 336 -0.033340450
## 404 404 149 -0.392515835
## 405 405 187 -0.032107112
## 406 406 137  1.145800024
## 407 407  38  1.256575238
## 408 408 485  0.260354139
## 409 409 176 -0.151283527
## 410 410  31 -0.823062837
## 411 411 153 -0.917481638
## 412 412 420 -0.276910101
## 413 413 116  0.503168473
## 414 414 338  0.013254033
## 415 415  83 -2.169211411
## 416 416 105  1.128899964
## 417 417 345  0.979844412
## 418 418 135  0.729496211
## 419 419  36  1.241590930
## 420 420 274 -0.483516935
## 421 421 370  0.049158154
## 422 422 464 -0.712840301
## 423 423 363  0.651860961
## 424 424 437 -1.070226065
## 425 425 275 -0.615678072
## 426 426 206  0.126729176
## 427 427 468  1.317658216
## 428 428 122  0.572210235
## 429 429 281  0.947063764
## 430 430 158 -0.801834378
## 431 431 225 -0.262689480
## 432 432 172  0.259444412
## 433 433 102 -0.158286788
## 434 434 360  1.492599043
## 435 435 230  1.328611257
## 436 436 379 -1.503588088
## 437 437 200 -0.689993172
## 438 438 489  0.858838248
## 439 439 312  0.412638240
## 440 440  67  0.152586430
## 441 441 139  1.297792502
## 442 442 217  1.305488021
## 443 443 183 -0.190589660
## 444 444 332 -0.368880743
## 445 445 258 -0.191333825
## 446 446 263  1.028971370
## 447 447 145 -0.973589800
## 448 448  78  0.110026707
## 449 449 444  0.350368261
## 450 450  55 -1.091019480
## 451 451 240  0.011965370
## 452 452  42  0.702204508
## 453 453  94 -0.267816269
## 454 454 355 -0.212465773
## 455 455 450  0.415917080
## 456 456 233  0.715396132
## 457 457 280 -2.525703960
## 458 458 442  0.309795880
## 459 459  21  0.443032813
## 460 460 487  0.750858404
## 461 461 237 -0.329926316
## 462 462 297  2.362446310
## 463 463 216 -0.414701531
## 464 464  30  0.567419336
## 465 465  63  0.546821781
## 466 466  23 -0.657280205
## 467 467 213 -1.916812240
## 468 468  22 -0.919778094
## 469 469 184  0.435822801
## 470 470  65 -0.267283931
## 471 471 284 -0.499384446
## 472 472   8 -0.418987224
## 473 473 180 -0.921100629
## 474 474 340  0.336183524
## 475 475  89  1.111347571
## 476 476 270 -0.695002183
## 477 477 195  1.216516952
## 478 478 311  2.003009880
## 479 479 191 -2.987673828
## 480 480 497  1.824362722
## 481 481 104  0.923734883
## 482 482 241 -0.250601452
## 483 483 103  0.668194597
## 484 484 261  0.038007607
## 485 485 335  1.269535641
## 486 486 279 -0.746242233
## 487 487 160 -1.119643111
## 488 488   7 -1.301395720
## 489 489  68  1.332741125
## 490 490  16  0.378184727
## 491 491 171  0.235507560
## 492 492 251  0.277175358
## 493 493 479 -0.653680060
## 494 494 228  1.351525356
## 495 495  11  0.976258743
## 496 496 101  0.253599391
## 497 497 202  0.928889643
## 498 498 198 -1.085823288
## 499 499 106 -0.129190931
## 500 500 356 -0.532173807
```

---

## Tibbles

Tibbles have enhanced (and opinionated) printing behavior.


```r
tibble::tibble(x = 1:500, y = sample(1:500), z = rnorm(500))
```

```
## # A tibble: 500 x 3
##        x     y      z
##    &lt;int&gt; &lt;int&gt;  &lt;dbl&gt;
##  1     1   150 -0.299
##  2     2   317 -1.72 
##  3     3   140  0.143
##  4     4   335  0.240
##  5     5   373 -0.633
##  6     6   410 -0.655
##  7     7   375 -0.627
##  8     8   143 -1.57 
##  9     9   135 -0.803
## 10    10   281  1.12 
## # ... with 490 more rows
```

---

## Working Directory

A key part of reading and writing data is understanding where R is looking for and putting data, respectively.


```r
getwd()
```

```
## [1] "C:/Users/thinkelman/GitHub/R/Projects/R-Intro-Training/Slides"
```

--

`getwd` returns absolute paths, but using relative paths makes work more reproducible across different computers.

--

[Project-oriented workflow](https://www.tidyverse.org/blog/2017/12/workflow-vs-script/)

&gt;If the first line of your R script is
`setwd("C:\Users\jenny\path\that\only\I\have")`  
I will come into your office and SET YOUR COMPUTER ON FIRE 🔥.  


---

## Writing Data

Datasets can be included in packages. `esaRmisc` contains a dataset with water year type classifications.


```r
library(esaRmisc)
tail(water_year_type)
```

```
##     WaterYear Valley WYT WaterYearType
## 233      2014    SJR   C      Critical
## 234      2015    SJR   C      Critical
## 235      2016    SJR   D           Dry
## 236      2017    SJR   W           Wet
## 237      2018    SJR  BN  Below Normal
## 238      2019    SJR   W           Wet
```

We can write the `water_year_type` dataset as a `CSV` file with `write_csv` and as an `XSLX` file with `write_xlsx` (but need to install `writexl` package first).


```r
write_csv(water_year_type, "WaterYearType.csv")
writexl::write_xlsx(water_year_type, "WaterYearType.xlsx")
```

---

## Reading Data

Let's read those files back into R (but need to install `readxl` package first).


```r
wyt_csv &lt;- read_csv("WaterYearType.csv")
wyt_xlsx &lt;- readxl::read_xlsx("WaterYearType.xlsx")
```

--

R can connect to and read from lots of different data sources and file types, but we will focus on flat text files (generally, `CSV`, `TSV`, or `TXT`) and Excel files (`XLSX`).
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
