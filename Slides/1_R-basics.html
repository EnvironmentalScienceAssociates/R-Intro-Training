<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Introduction to R for Excel Users</title>
    <meta charset="utf-8" />
    <meta name="author" content="Travis Hinkelman" />
    <meta name="author" content="Taylor Spaulding" />
    <meta name="date" content="2020-11-20" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Introduction to R for Excel Users
### Travis Hinkelman
### Taylor Spaulding
### 2020-11-20

---






## Motivation

.pull-left[
&lt;img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7f/Microsoft_Office_Excel_%282018%E2%80%93present%29.svg/500px-Microsoft_Office_Excel_%282018%E2%80%93present%29.svg.png" style="height:300px"&gt; 
]

--

.pull-right[
&lt;img src="https://www.r-project.org/logo/Rlogo.png"  style="height:300px"&gt;  
]

---
## Motivation

.pull-left[
&lt;img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7f/Microsoft_Office_Excel_%282018%E2%80%93present%29.svg/500px-Microsoft_Office_Excel_%282018%E2%80%93present%29.svg.png" style="height:300px"&gt; 

]
.pull-right[
&lt;img src="https://tidyverse.tidyverse.org/articles/tidyverse-logo.png"  style="height:300px; padding-left:80px"&gt;  
]

---
## Rterm

&lt;img src="Rterm.png"&gt;

---
## RGui

&lt;img src="RGui.png"&gt;

---
## RStudio

&lt;img src="RStudio.png"&gt;

---
## R Packages

&lt;img src="https://www.researchgate.net/publication/333159083/figure/fig1/AS:759374838517760@1558060478678/Number-of-R-packages-contributed-to-the-Comprehensive-R-Archive-Network-CRAN-as-a.png"&gt;

.footnote[[Epskamp 2019](https://doi.org/10.1177/2515245919847421)]

---
## Install Packages (CRAN)

&lt;img src="InstallPackages.png"&gt;

---

## Install Packages (GitHub)

&lt;img src="InstallPackagesRemotes.png"&gt;

---

## Install Packages (Bioconductor)

&lt;img src="InstallPackagesBioconductor.png"&gt;

---

## Install Packages (Bioconductor)

&lt;img src="InstallPackagesBioconductor-rhdf5.png"&gt;

---

## Update Packages

&lt;img src="UpdatePackages.png"&gt;

---

## R Documentation

Quality of documentation is uneven.

Following two lines are equivalent ways to open documentation.


```r
?mean

help("mean")
```

---

## Package Websites

&lt;img src="PackageWebsite.png"&gt;

---

## Data Structures

One advantage of Excel is that the data are front and center. Feels tangible.

--

Important to feel comfortable with R's functions for showing the shape and structure of your data, e.g., `length`, `dim`, `nrow`, `head`, `View`, `glimpse`, `summary`.

--

A good mental model of the shape and structure of your data helps you understand the code that you need to write to analyze that data.

--

R has four main data structures: vector, matrix/array, list, and data frame.

--

We will focus on vectors and data frames.

---

## Vectors

Combine elements into a vector with `c` (for **c**ombine or **c**oncatenate).


```r
c(1, 2, 3)
```

```
## [1] 1 2 3
```
--

```r
c("a", "b", "c")
```

```
## [1] "a" "b" "c"
```
--

```r
c(TRUE, FALSE, TRUE)
```

```
## [1]  TRUE FALSE  TRUE
```
--

```r
c("let's", "make", "a", "vector")
```

```
## [1] "let's"  "make"   "a"      "vector"
```

---

## Vectors

Create numeric sequences with `:` or `seq`.


```r
1:5
```

```
## [1] 1 2 3 4 5
```
--

```r
seq(from = 1, to = 5, by = 1)
```

```
## [1] 1 2 3 4 5
```
--

```r
seq(3, 1, -0.5)
```

```
## [1] 3.0 2.5 2.0 1.5 1.0
```
--

```r
2:-3
```

```
## [1]  2  1  0 -1 -2 -3
```

---

## Vectors

Many operations in R are "vectorized."


```r
seq(2, 10, 2) / 2
```

```
## [1] 1 2 3 4 5
```
--

```r
sqrt(c(1, 4, 9, 16))
```

```
## [1] 1 2 3 4
```
--

```r
c(1, 2, 3) * c(10, 11, 12)
```

```
## [1] 10 22 36
```
--

```r
paste0(c("flood", "dragon"), c("plain", "fly"))
```

```
## [1] "floodplain" "dragonfly"
```


---

## Vectors

All elements of a vector must be the same type. 

Type coercion is implicit and a common source of confusion.

--

```r
c(1, 2, "a", "b")
```

```
## [1] "1" "2" "a" "b"
```
--

```r
c(1, 2, TRUE, FALSE)
```

```
## [1] 1 2 1 0
```
--

```r
c("a", "b", TRUE, FALSE)
```

```
## [1] "a"     "b"     "TRUE"  "FALSE"
```


---

## Data Frames

Data frames are tabular data structures where each column is a vector.


```r
data.frame(Integer = 1L:3L,
           Double = c(1, 2.5, 3),
           Logical = c(TRUE, FALSE, TRUE),
           Character = c("strings", "better", "name"),
           Factor = as.factor(c("factors", "are", "special")))
```

```
##   Integer Double Logical Character  Factor
## 1       1    1.0    TRUE   strings factors
## 2       2    2.5   FALSE    better     are
## 3       3    3.0    TRUE      name special
```

---

## Data Frames

Examine data frame structure with `glimpse`.


```r
d &lt;- data.frame(Integer = 1L:3L,
                Double = c(1, 2.5, 3),
                Logical = c(TRUE, FALSE, TRUE),
                Character = c("strings", "better", "name"),
                Factor = as.factor(c("factors", "are", "special")))
glimpse(d)
```

```
## Rows: 3
## Columns: 5
## $ Integer   &lt;int&gt; 1, 2, 3
## $ Double    &lt;dbl&gt; 1.0, 2.5, 3.0
## $ Logical   &lt;lgl&gt; TRUE, FALSE, TRUE
## $ Character &lt;chr&gt; "strings", "better", "name"
## $ Factor    &lt;fct&gt; factors, are, special
```

---

## Data Frames

Elements of shorter length are recycled. Common source of confusion.


```r
data.frame(Length4 = 1:4,
           Length2 = 1:2,
           Length1 = 1)
```

```
##   Length4 Length2 Length1
## 1       1       1       1
## 2       2       2       1
## 3       3       1       1
## 4       4       2       1
```

--

Recycling fails when longer vector is not a multiple of shorter vector.


```r
data.frame(Length4 = 1:4,
           Length3 = 1:3)
```

```
## Error in data.frame(Length4 = 1:4, Length3 = 1:3): arguments imply differing number of rows: 4, 3
```

---

## Data Frames

Use `head` to preview data frame in console.


```r
head(data.frame(x = 1:100, y = sample(1:100), z = rnorm(100)), n = 10)
```

```
##     x  y           z
## 1   1 71 -0.71566899
## 2   2 37  0.59561264
## 3   3 72 -0.04327886
## 4   4  6  2.14941903
## 5   5 24 -1.34781589
## 6   6  7 -0.56690466
## 7   7 18  0.71033071
## 8   8 50  1.64366421
## 9   9 93  1.73868025
## 10 10 53  1.43127028
```

---

## Tibbles

Tibbles are data frames with some special behavior.


```r
data.frame(Number = 1:2,
           Times2 = Number*2)
```

```
## Error in data.frame(Number = 1:2, Times2 = Number * 2): object 'Number' not found
```
--

```r
tibble::tibble(Number = 1:2,
               Times2 = Number*2)
```

```
## # A tibble: 2 x 2
##   Number Times2
##    &lt;int&gt;  &lt;dbl&gt;
## 1      1      2
## 2      2      4
```

---
## Tibbles

Tibbles prevent recycling of vectors to avoid surprises.


```r
data.frame(Length4 = 1:4,
           Length2 = 1:2)
```

```
##   Length4 Length2
## 1       1       1
## 2       2       2
## 3       3       1
## 4       4       2
```


```r
tibble(Length4 = 1:4,
       Length2 = 1:2)
```

```
## Error: Tibble columns must have compatible sizes.
## * Size 4: Existing data.
## * Size 2: Column `Length2`.
## i Only values of size one are recycled.
```
---

## Tibbles

By default, data frames truncate printing at 333 rows. 

Always use head if you don't know how big a data frame is.


```r
data.frame(x = 1:500, y = sample(1:500), z = rnorm(500))
```

```
##       x   y             z
## 1     1 450  0.3054498418
## 2     2 127 -0.5622396376
## 3     3 341  0.0303084709
## 4     4 438 -1.0816554255
## 5     5  85 -0.2936465777
## 6     6  18  1.3171141127
## 7     7  34 -0.6718070865
## 8     8 383 -1.6165977676
## 9     9 136  0.4511100095
## 10   10 131  1.3595894631
## 11   11 397  1.4689621585
## 12   12 262  0.8405858426
## 13   13 329 -0.0554188099
## 14   14 143  0.6770401427
## 15   15  86 -0.2294747046
## 16   16 339  2.3199275504
## 17   17 175 -0.8244259300
## 18   18 452 -1.7008481264
## 19   19 361 -0.5792498461
## 20   20 356  0.2719814980
## 21   21 103 -0.2849307143
## 22   22 100  0.3226438712
## 23   23 222 -1.7301328860
## 24   24 188  0.2323721632
## 25   25 144 -0.0636307634
## 26   26 186 -0.7438624964
## 27   27 410 -0.4984960260
## 28   28  52 -0.2096932525
## 29   29 484  1.2367944400
## 30   30  54  0.8443692640
## 31   31 252 -1.0414122126
## 32   32 106  0.2876538413
## 33   33  84  0.0572717983
## 34   34 303 -1.0821928600
## 35   35 282 -1.0513076404
## 36   36 268  0.9633234096
## 37   37 236  0.0182745496
## 38   38 365  0.5112673115
## 39   39 443  0.6838645535
## 40   40 449 -1.6453777742
## 41   41  38 -1.4559411466
## 42   42 128 -0.2790076931
## 43   43 290 -0.2624538019
## 44   44 180  1.7626339429
## 45   45 342  0.6578573674
## 46   46 348 -0.2359696436
## 47   47 425 -0.4658859552
## 48   48 245  1.4296259728
## 49   49 125 -0.9607314624
## 50   50 434 -0.2216776076
## 51   51  31  1.0943013396
## 52   52 417 -1.1747122507
## 53   53 155  0.4810110159
## 54   54 169 -0.9931203162
## 55   55 137  0.0338144511
## 56   56 488 -1.8405826494
## 57   57 413 -0.1711373518
## 58   58 392  0.4404225040
## 59   59 444  0.0549563734
## 60   60 412 -0.9898870841
## 61   61 249  0.5134299493
## 62   62 271 -1.1289640438
## 63   63 391 -1.1314009050
## 64   64 101 -0.1288944545
## 65   65 287  1.9033290706
## 66   66  50 -1.5146087422
## 67   67 140  1.6172323531
## 68   68 405 -0.7391093678
## 69   69 247 -1.1576295448
## 70   70  57 -1.0963918156
## 71   71 297 -0.2690382766
## 72   72 130  0.3674358083
## 73   73 479 -0.3696097249
## 74   74  20 -0.7208447440
## 75   75 270  0.8053139527
## 76   76 364 -0.6847228693
## 77   77 387 -1.6837041880
## 78   78 495  0.2381554722
## 79   79 221  0.5078471216
## 80   80 119 -1.0734626696
## 81   81 168 -0.5349837307
## 82   82  71  0.5982404741
## 83   83 299 -0.3306738220
## 84   84  62  0.9136598045
## 85   85  63  0.9651729654
## 86   86 184 -0.3815485401
## 87   87 285  0.7469843843
## 88   88 108  0.8879086605
## 89   89 284  0.2680998764
## 90   90 459 -0.1759662954
## 91   91 448 -0.5796968169
## 92   92  65 -0.2401675337
## 93   93 349  2.4895446034
## 94   94 458 -1.2499254563
## 95   95 402 -0.1008621202
## 96   96 217  0.4802881616
## 97   97 407  0.5586397445
## 98   98 462 -1.8200867290
## 99   99 243 -0.2517358869
## 100 100 409  1.0681425336
## 101 101 426  1.8023778331
## 102 102   7  0.0208809684
## 103 103 301  0.6497668822
## 104 104 216 -0.1380896405
## 105 105  16 -1.9707969839
## 106 106 441 -0.6506762483
## 107 107 333  0.4959668302
## 108 108 492 -1.4526883634
## 109 109  30 -0.4898353287
## 110 110  55  1.4340994222
## 111 111 200 -0.3835371919
## 112 112 307 -1.3720754113
## 113 113 453 -0.0891351176
## 114 114 146  1.1771541662
## 115 115 132 -0.8175776855
## 116 116 214  0.0746097742
## 117 117 294 -1.7662407483
## 118 118 399 -1.5739115466
## 119 119  26  1.0603908484
## 120 120  60  1.2199642662
## 121 121 390  0.6504197438
## 122 122 350 -0.4562345735
## 123 123 112  0.2299963013
## 124 124 260 -0.9529757401
## 125 125 489  0.2974735360
## 126 126  15  0.5535196583
## 127 127 454  0.4829967223
## 128 128 469 -0.6519300539
## 129 129 451 -0.3323868320
## 130 130  40 -0.5494352462
## 131 131 120 -0.2272249819
## 132 132 212 -0.8398480974
## 133 133 263  0.5692352675
## 134 134 366  0.7324340309
## 135 135 328  1.5461762560
## 136 136  48  0.6510999209
## 137 137  73  1.1583581694
## 138 138 371  0.5831230808
## 139 139 145  0.8233885533
## 140 140 376  1.3972400818
## 141 141 251 -0.1949469224
## 142 142 456 -1.9901984611
## 143 143 369 -0.9449770402
## 144 144  58 -0.6271718886
## 145 145 319  1.5683850520
## 146 146 394 -1.5162201649
## 147 147 152 -0.3278316929
## 148 148 122 -1.3541404352
## 149 149 330  1.6050839141
## 150 150 313  0.2213414068
## 151 151 139  1.1801071581
## 152 152 419 -1.1863771443
## 153 153 470  0.2789232412
## 154 154 159  1.2879951506
## 155 155 118  0.6891299767
## 156 156 385 -0.8891023120
## 157 157  80  0.3928068668
## 158 158 447 -2.1993221369
## 159 159 102 -1.6233935876
## 160 160  24  0.4171121191
## 161 161 210  0.9951328453
## 162 162  43 -0.5789406418
## 163 163 167 -0.1851551873
## 164 164  88 -0.7225932262
## 165 165 273  0.4107008733
## 166 166 192 -0.8057055288
## 167 167 411 -0.6890764290
## 168 168 375 -1.0717645476
## 169 169 225  0.8687240232
## 170 170  67  1.4702578812
## 171 171 457 -0.3704448167
## 172 172 121  0.6030529090
## 173 173 359  0.2812309296
## 174 174  56 -1.1330895314
## 175 175  25 -0.9048124438
## 176 176 272  0.9872500056
## 177 177  14 -0.4183087518
## 178 178  77 -1.3834936957
## 179 179 396  0.3506576886
## 180 180 324  0.1414964092
## 181 181 343 -1.1605644506
## 182 182 126 -1.5339321438
## 183 183 398  0.0833835188
## 184 184 138  1.3581884596
## 185 185 164  0.5501458061
## 186 186  95 -0.3237419595
## 187 187 171 -0.3215952495
## 188 188 240  0.2624057612
## 189 189 193 -1.1732273962
## 190 190 153  0.1006808197
## 191 191 274  0.8604464128
## 192 192 241 -0.5526505181
## 193 193 323  0.3692761689
## 194 194 187 -0.8393379738
## 195 195 173 -0.6547813261
## 196 196 475 -1.4365099554
## 197 197 480 -0.9354311196
## 198 198  53 -1.2003979330
## 199 199  47 -0.9328694765
## 200 200  39 -0.3061702659
## 201 201 296  0.2720524038
## 202 202 408 -1.5008615187
## 203 203 367 -2.5582784208
## 204 204 135  0.8109780207
## 205 205 336 -0.0233506361
## 206 206 163 -1.4397471899
## 207 207 355  0.7809045945
## 208 208 414  1.3209113955
## 209 209 177  0.7241270641
## 210 210  70 -0.2405700054
## 211 211 433  0.3586168831
## 212 212 435 -1.3545327441
## 213 213 467  1.7805211662
## 214 214  92 -1.3147887584
## 215 215 105  0.0607559387
## 216 216 230  0.6277483282
## 217 217  81  0.2797676616
## 218 218 354  1.2045245675
## 219 219 437  0.8307324052
## 220 220 325 -0.5342740423
## 221 221  89 -1.4969194537
## 222 222  96 -1.3169979360
## 223 223 378 -0.5417333376
## 224 224 494  0.1435035174
## 225 225 185 -1.0002218847
## 226 226 431  0.4938917987
## 227 227 179  0.1905033604
## 228 228   4 -2.1334131754
## 229 229  42  0.4118452130
## 230 230 499 -1.5768992641
## 231 231 156  0.9465523178
## 232 232 198  0.7999421946
## 233 233 474  1.1930732974
## 234 234 183 -0.4422371252
## 235 235 374 -0.9559161329
## 236 236 150  1.6172936338
## 237 237  22  0.3632488539
## 238 238  13  0.8261101097
## 239 239 258  0.2429206930
## 240 240 206  0.4423658597
## 241 241 442 -0.0810862885
## 242 242  12 -1.1914654464
## 243 243  29 -0.5951696795
## 244 244   3 -0.7208928906
## 245 245 320  0.5636425810
## 246 246 133 -0.5568716479
## 247 247   6  0.7993733658
## 248 248 445 -0.3618793847
## 249 249  78  2.0253937194
## 250 250 111  0.1617478151
## 251 251 219  1.1692120677
## 252 252 115  0.0002224236
## 253 253 148  1.1370684882
## 254 254 231  0.8826420211
## 255 255 389  0.1716917380
## 256 256 196  0.6121305558
## 257 257 300  1.3375408258
## 258 258 291  0.1477341067
## 259 259  51  1.0326507676
## 260 260  98  0.0610685661
## 261 261 228  0.3174958195
## 262 262 478 -0.2402683841
## 263 263 331  0.3172299062
## 264 264 151 -0.4781900075
## 265 265 335  0.6470639742
## 266 266 487  0.2732130252
## 267 267 346  0.7409489848
## 268 268 311  0.0937650876
## 269 269 288 -1.2203753761
## 270 270 473  0.2903002613
## 271 271 204 -0.0375168831
## 272 272  37  0.8005447278
## 273 273 334 -1.1893229295
## 274 274  91  0.3961155574
## 275 275   2  1.0036599586
## 276 276 213  0.5777580939
## 277 277 468 -0.3092227914
## 278 278 165 -0.0388165890
## 279 279 107  0.6059628283
## 280 280 422  0.1152470313
## 281 281  21 -2.1085691725
## 282 282 497  0.7105845670
## 283 283 160  0.7266875243
## 284 284  66 -0.5079918708
## 285 285 406  0.0863211482
## 286 286  28 -0.4028067540
## 287 287 460  0.0876591916
## 288 288  69 -0.2691760345
## 289 289 379  0.6621564896
## 290 290 401  0.2237733574
## 291 291 373  0.4792638783
## 292 292   5  0.8923204325
## 293 293  10  0.6921375572
## 294 294 314  1.6097848457
## 295 295 471 -0.3794671173
## 296 296 491  1.3042469961
## 297 297 482 -0.7210484080
## 298 298 256 -1.2590614240
## 299 299 224 -2.6216987108
## 300 300   1 -0.1733602996
## 301 301 254  0.2745899594
## 302 302 309 -0.0816895290
## 303 303 415  0.1765314890
## 304 304 203  1.6894863962
## 305 305 257 -2.1318146916
## 306 306 279 -0.2349778157
## 307 307 322  2.0225154824
## 308 308 157  0.2929073627
## 309 309 202  1.4438281512
## 310 310 418 -0.1008575181
## 311 311 178  0.2251357118
## 312 312 161  0.5182370734
## 313 313 427  0.9424896934
## 314 314 493 -1.5190582955
## 315 315  11  1.8766361424
## 316 316 265  3.8799727298
## 317 317 250 -0.4311341576
## 318 318   9  0.5948690623
## 319 319 372 -0.8944833684
## 320 320 237  0.6567537125
## 321 321  82 -0.0833210986
## 322 322 352  0.1082608743
## 323 323 340 -0.0918412544
## 324 324 141  0.5142851399
## 325 325  99  0.2537012047
## 326 326 344  0.3785018264
## 327 327 388  0.0430413302
## 328 328  46 -1.7628770641
## 329 329 304 -0.0836090074
## 330 330 302  0.7839068560
## 331 331 353 -1.4012304056
## 332 332 477  0.6023616685
## 333 333 259  1.1214769649
## 334 334 465 -1.3092370473
## 335 335 255  0.5328764110
## 336 336  90  0.4365619231
## 337 337  23  0.0450730584
## 338 338 172  0.2425714010
## 339 339 232  0.9013294181
## 340 340 306 -0.8635779433
## 341 341 209 -1.3437898069
## 342 342 295  0.0764865656
## 343 343 463 -0.0717527358
## 344 344 176  0.0295992648
## 345 345 386 -1.7106833091
## 346 346 500 -2.6423493239
## 347 347 174 -0.9457741070
## 348 348 381  0.7397336195
## 349 349  17 -1.2592513464
## 350 350  41  0.6170035463
## 351 351 423 -1.0820947662
## 352 352 362  0.8866108611
## 353 353 264  1.0703443548
## 354 354 490 -1.6006348032
## 355 355  61 -0.0250679430
## 356 356  45 -1.2955581626
## 357 357 149 -0.8385641644
## 358 358 275  0.6406916400
## 359 359 420  0.5213719415
## 360 360 235  0.0199972539
## 361 361 276  0.0570877245
## 362 362 124 -0.1954814867
## 363 363 298 -1.1069880189
## 364 364 194 -0.6166431200
## 365 365  49  1.6811533548
## 366 366 220  0.0382985217
## 367 367 472  1.2541688224
## 368 368 455  1.1414265114
## 369 369 358  0.6631585653
## 370 370 318 -1.4016540943
## 371 371 289 -0.1082484413
## 372 372 239  0.9099711708
## 373 373 229 -1.0137144528
## 374 374  32 -0.6748524069
## 375 375 368 -0.1886345997
## 376 376 207  0.4411100439
## 377 377 439  1.3028522698
## 378 378 269 -0.0929773373
## 379 379 327 -0.3390761954
## 380 380 283 -0.7728073960
## 381 381 481 -0.8753535323
## 382 382 113 -0.3410097791
## 383 383  64  2.6457154685
## 384 384 312  1.5831418610
## 385 385 416  0.1256837035
## 386 386 370  0.4894258888
## 387 387 277 -0.7782054957
## 388 388 117 -0.7200945140
## 389 389 377 -1.0767609354
## 390 390 345 -0.2783392494
## 391 391 116 -1.0583400646
## 392 392 191 -0.0182161768
## 393 393  74  0.1917527758
## 394 394 227  0.7485525995
## 395 395 189 -1.2845786415
## 396 396 242 -0.0893457460
## 397 397 293  0.1221813383
## 398 398 281  2.0811783551
## 399 399 305 -0.1044889584
## 400 400  33  0.2937207079
## 401 401 238  1.0172906195
## 402 402  79 -0.9374370379
## 403 403  97 -1.0315158758
## 404 404 292  1.2314330132
## 405 405 110 -0.0665194315
## 406 406 498  0.2482157922
## 407 407  68  2.2841427980
## 408 408 317  1.6767607097
## 409 409 114  0.7732182758
## 410 410 201  1.4459783182
## 411 411 382  1.2196214424
## 412 412  44 -0.8086483570
## 413 413 162  1.1604837718
## 414 414  72 -1.6576012399
## 415 415 199 -0.0122706375
## 416 416 446  1.2796742553
## 417 417 226 -0.8424340613
## 418 418 363  2.5871419285
## 419 419 261  0.1048801988
## 420 420 395 -0.8520342531
## 421 421 432 -1.2566504592
## 422 422   8 -1.5574737278
## 423 423  87 -0.4297845779
## 424 424  35  0.3343549271
## 425 425 190  0.8850552862
## 426 426 338 -1.5178896064
## 427 427  59  0.2411606286
## 428 428 109 -1.3604869677
## 429 429 142 -0.1165127912
## 430 430 205 -0.7523776262
## 431 431 310  0.4046977480
## 432 432 486 -0.4245877646
## 433 433  94 -0.2406259665
## 434 434 129  2.9701468284
## 435 435  27 -0.5155134966
## 436 436 400 -1.2742601865
## 437 437 337 -1.2005335869
## 438 438  83 -1.5721581309
## 439 439 430  0.2075481058
## 440 440 181  0.5252433304
## 441 441 286  0.6568059779
## 442 442  75 -1.3342310608
## 443 443 380 -1.7216354576
## 444 444 248  1.2430619563
## 445 445 170 -1.0702399196
## 446 446 267  0.1964081464
## 447 447 384 -0.0697920580
## 448 448 195 -0.3845307846
## 449 449 321  0.9508514110
## 450 450 246  0.3222533931
## 451 451 218  0.4986965000
## 452 452 197  1.4040897794
## 453 453 485  0.1848111173
## 454 454  93  0.7392913936
## 455 455 253  0.0734757334
## 456 456 440 -0.1761204347
## 457 457 134  0.0898129130
## 458 458 280  1.7532001112
## 459 459 424 -1.5517849225
## 460 460 351 -0.0302523770
## 461 461 357  0.7588869966
## 462 462 403 -0.3231368585
## 463 463 266  0.2330936445
## 464 464 464 -0.6441675268
## 465 465 436 -0.6295813905
## 466 466 234 -0.7563260403
## 467 467 182  1.8803744221
## 468 468  19  0.2210127693
## 469 469 476  0.4599456604
## 470 470 428  1.5572287772
## 471 471 421 -0.9955666166
## 472 472 278  0.3996021177
## 473 473 244 -0.8790769346
## 474 474 158  0.4009879618
## 475 475 347 -0.3370169198
## 476 476 316  0.4081606597
## 477 477 215 -0.6589897496
## 478 478 332 -1.1195443206
## 479 479 404 -0.4442139770
## 480 480  36  1.2363216970
## 481 481 154  0.6380858233
## 482 482 326  0.4917635560
## 483 483 211  1.2753896574
## 484 484 233 -1.4268889734
## 485 485 483 -1.2956845726
## 486 486 315  0.3249063349
## 487 487 496  1.7958246558
## 488 488 123 -0.7394863172
## 489 489 223 -0.2533978570
## 490 490 393 -1.0660077475
## 491 491 166 -0.1752330961
## 492 492 308 -0.8706616058
## 493 493 466  0.4749944880
## 494 494 104  0.6869047596
## 495 495 429 -1.0245268720
## 496 496 360  1.1418386343
## 497 497 147  1.8146859204
## 498 498 208  1.2529828877
## 499 499  76  0.6134209412
## 500 500 461  0.8691055223
```

---

## Tibbles

Tibbles have enhanced (and opinionated) printing behavior.


```r
tibble::tibble(x = 1:500, y = sample(1:500), z = rnorm(500))
```

```
## # A tibble: 500 x 3
##        x     y       z
##    &lt;int&gt; &lt;int&gt;   &lt;dbl&gt;
##  1     1   304 -0.432 
##  2     2   176  1.38  
##  3     3    59 -0.0735
##  4     4   487  0.354 
##  5     5    60  0.321 
##  6     6   381 -1.15  
##  7     7   434  0.646 
##  8     8   389  0.389 
##  9     9   490 -1.54  
## 10    10    69 -1.39  
## # ... with 490 more rows
```

---

## Working Directory

A key part of reading and writing data is understanding where R is looking for and putting data, respectively.


```r
getwd()
```

```
## [1] "C:/Users/thinkelman/GitHub/R/Projects/R-Intro-Training/Slides"
```

--

`getwd` returns absolute paths, but using relative paths makes work more reproducible across different computers.

--

[Project-oriented workflow](https://www.tidyverse.org/blog/2017/12/workflow-vs-script/)

&gt;If the first line of your R script is
`setwd("C:\Users\jenny\path\that\only\I\have")`  
I will come into your office and SET YOUR COMPUTER ON FIRE ðŸ”¥.  


---

## Writing Data

Datasets can be included in packages. `esaRmisc` contains a dataset with water year type classifications.


```r
library(esaRmisc)
tail(water_year_type)
```

```
##     WaterYear Valley WYT WaterYearType
## 233      2014    SJR   C      Critical
## 234      2015    SJR   C      Critical
## 235      2016    SJR   D           Dry
## 236      2017    SJR   W           Wet
## 237      2018    SJR  BN  Below Normal
## 238      2019    SJR   W           Wet
```

We can write the `water_year_type` dataset as a `CSV` file with `write_csv` and as an `XSLX` file with `write_xlsx` (but need to install `writexl` package first).


```r
write_csv(water_year_type, "WaterYearType.csv")
writexl::write_xlsx(water_year_type, "WaterYearType.xlsx")
```

---

## Reading Data

Let's read those files back into R (but need to install `readxl` package first).


```r
wyt_csv &lt;- read_csv("WaterYearType.csv")
wyt_xlsx &lt;- readxl::read_xlsx("WaterYearType.xlsx")
```

--

R can connect to and read from lots of different data sources and file types, but we will focus on flat text files (generally, `CSV`, `TSV`, or `TXT`) and Excel files (`XLSX`).


---

## Saving Workspace

Restore .RData into workspace at startup --&gt; **No**

Save workspace to .RData on exit --&gt; **Never**
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
